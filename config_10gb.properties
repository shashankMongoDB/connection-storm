# =============================================================================
# MongoDB Connection Configuration for 10GB Customer Data Testing
# =============================================================================

# MongoDB Connection URI
# For local: mongodb://localhost:27017
# For Atlas/Cloud: mongodb+srv://cluster0.example.mongodb.net
connection_uri = mongodb+srv://2e6e28c1-2c96-461f-ba70-ac6a589634be.mgdb.fr-par.scw.cloud

# Authentication (optional if embedded in URI)
username = admin
password = Mongodbadmin@2025

# TLS/SSL Settings (typically required for cloud deployments)
tls_enabled = true
tls_ca_file_path = mgdb-mgdb-vigilant-pike.pem

# Write Concern - ensures data durability across replica set
# Options: 1 (fastest), majority (durable), all (slowest)
write_concern = majority
write_concern_timeout_ms = 5000  # Timeout in milliseconds for write operations

# =============================================================================
# Database Configuration - Points to 10GB Customer Data
# =============================================================================

# Target database and collection where 10GB data was loaded
database_name = customers_db
collection_name = customers

# Connection Pool Settings
max_pool_size = 100
min_pool_size = 10
max_idle_time_ms = 30000
connect_timeout_ms = 5000
socket_timeout_ms = 30000
server_selection_timeout_ms = 5000

# =============================================================================
# Environment-variable aliases (for microservices to use directly)
# =============================================================================
MONGO_URI = mongodb+srv://2e6e28c1-2c96-461f-ba70-ac6a589634be.mgdb.fr-par.scw.cloud
MONGO_DB = customers_db
MONGO_COLLECTION = customers
MONGO_USERNAME = admin
MONGO_PASSWORD = Mongodbadmin@2025
MONGO_TLS_ENABLED = true
MONGO_TLS_CA_FILE = mgdb-mgdb-vigilant-pike.pem
MONGO_WRITE_CONCERN = majority
MONGO_MAX_POOL_SIZE = 100
MONGO_MIN_POOL_SIZE = 10
MONGO_MAX_IDLE_TIME_MS = 30000

# =============================================================================
# Microservices Configuration
# =============================================================================

# Customer API Settings
customer_api_port = 8000
customer_api_workers = 4
customer_api_log_level = INFO

# Analytics API Settings
analytics_api_port = 5000
analytics_api_workers = 4
analytics_api_log_level = INFO
analytics_cache_ttl_seconds = 300

# Reports API Settings
reports_api_port = 3000
reports_api_workers = 4
reports_api_log_level = INFO
reports_background_workers = 4

# =============================================================================
# Performance Settings
# =============================================================================

# Cache settings
cache_ttl_seconds = 300
cache_max_size = 1000

# Batch processing
batch_size = 1000
max_document_size_bytes = 16777216  # 16MB (MongoDB document size limit)

# Connection retry settings
retry_writes = true
retry_reads = true
max_retries = 3
retry_delay_ms = 500
