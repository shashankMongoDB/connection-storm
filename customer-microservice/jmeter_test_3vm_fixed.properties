# =========================================================================
# Fixed JMeter Properties for 3-VM Customer Microservice Testing
# =========================================================================

# -------------------------------------------------------------------------
# VM Configuration (Round Robin Setup)
# -------------------------------------------------------------------------

# VM endpoints
vm1_host=172.31.37.130
vm1_port=5000
vm2_host=172.31.40.1
vm2_port=5000
vm3_host=172.31.35.118
vm3_port=5000
vm_port=5000

# Default protocol
protocol=http

# -------------------------------------------------------------------------
# Test Parameters - Optimized for 3 VMs
# -------------------------------------------------------------------------

# Thread configuration (distributed across 3 VMs)
threads=30
rampup=15
duration=180
loops=30

# Connection settings (increased for multi-VM)
connect_timeout=15000
response_timeout=90000

# -------------------------------------------------------------------------
# Thread Group Control (Enable/Disable specific test groups)
# -------------------------------------------------------------------------

# Set to true/false to enable/disable specific thread groups
ThreadGroup.health=true
ThreadGroup.crud=true
ThreadGroup.payload=false
ThreadGroup.computation=false
ThreadGroup.storm=true
ThreadGroup.monitoring=false

# -------------------------------------------------------------------------
# Storm Testing Parameters
# -------------------------------------------------------------------------

# Connection storm settings
storm_operations=25
storm_concurrency=8
payload_size=256

# -------------------------------------------------------------------------
# Results Files Configuration
# -------------------------------------------------------------------------

# Main results files
results_file=3vm_test_results.jtl
aggregate_file=3vm_aggregate_results.csv
response_time_file=3vm_response_times.csv

# -------------------------------------------------------------------------
# Advanced Configuration
# -------------------------------------------------------------------------

# HTTP connection settings
http.connection.stalecheck$Boolean=true
httpclient.timeout=90000
httpclient4.idletimeout=30000
httpclient4.retrycount=2

# JMeter performance settings
jmeter.threads.daemon=true
httpsampler.max_bytes_to_store_per_request=204800
httpsampler.max_buffer_size=204800

# Server list file for round robin
server_list_file=server_list.csv