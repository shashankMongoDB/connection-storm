# =========================================================================
# Customer Microservice Configuration
# =========================================================================
# This configuration file contains all settings for the Customer API
# microservice designed to work with the 10GB customer dataset.
# =========================================================================

# -------------------------------------------------------------------------
# MongoDB Connection Parameters
# -------------------------------------------------------------------------

# MongoDB Connection URI - Update with your actual MongoDB server address
# For MongoDB Atlas / Scaleway cluster:
# Example â†’ mongodb+srv://<cluster-id>.mgdb.<region>.scw.cloud
# IMPORTANT: This must point to the **10 GB customer dataset cluster**.
connection_uri=mongodb+srv://2e6e28c1-2c96-461f-ba70-ac6a589634be.mgdb.fr-par.scw.cloud

# Database and Collection (10GB dataset)
database_name=customers_db
collection_name=customers

# Authentication (if required)
username=admin
password=Mongodbadmin@2025

# TLS/SSL Configuration
# The Scaleway cluster enforces TLS.
tls_enabled=true
# Absolute or relative path to the CA certificate for the cluster
# (Place the .pem file in the same directory or provide a full path)
tls_ca_file_path=mgdb-mgdb-vigilant-pike.pem

# Write Concern - "majority" ensures data is written to a majority of nodes
write_concern=majority

# -------------------------------------------------------------------------
# Connection Pool Settings
# -------------------------------------------------------------------------

# Connection Pool Size - Adjust based on expected load
max_pool_size=100
min_pool_size=10
max_idle_time_ms=30000

# -------------------------------------------------------------------------
# API Settings
# -------------------------------------------------------------------------

# API Port - The port the microservice will listen on
api_port=5000

# Debug Mode - Set to false in production
debug_mode=false

# Instance Identification - Useful for distributed deployment
# Will be auto-generated if not specified
instance_id=customer-service-1

# -------------------------------------------------------------------------
# Performance Tuning
# -------------------------------------------------------------------------

# Cache Settings
cache_ttl_seconds=300

# Maximum payload size for large payload testing (in KB)
max_payload_size_kb=1024

# -------------------------------------------------------------------------
# Logging Configuration
# -------------------------------------------------------------------------

# Log Level - Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
log_level=INFO

# -------------------------------------------------------------------------
# JMeter Testing Configuration
# -------------------------------------------------------------------------

# These settings can be used by JMeter test scripts
# Maximum operations for connection storm testing
max_storm_operations=50
max_storm_concurrency=5

# Heavy computation complexity
default_computation_complexity=medium
default_computation_depth=3

# -------------------------------------------------------------------------
# Deployment Options
# -------------------------------------------------------------------------

# VM-specific settings
# Set a unique instance_id for each VM deployment
# instance_id=customer-service-vm1
# instance_id=customer-service-vm2
# instance_id=customer-service-vm3

# -------------------------------------------------------------------------
# Additional Settings
# -------------------------------------------------------------------------

# Uncomment and modify these settings as needed
# retry_writes=true
# server_selection_timeout_ms=5000
# socket_timeout_ms=10000
