# =============================================================================
# JMeter 10GB MongoDB Load Test Properties
# =============================================================================
# This properties file configures the mongodb_10gb_load_test.jmx test plan
# for distributed load testing against the 10GB MongoDB microservices.
# 
# Usage:
#   jmeter -n -t mongodb_10gb_load_test.jmx -p jmeter_10gb_test.properties -l results.jtl
#
# For distributed testing:
#   jmeter -n -t mongodb_10gb_load_test.jmx -p jmeter_10gb_test.properties -R server1,server2 -l results.jtl
# =============================================================================

# =============================================================================
# Microservice Host Configuration
# =============================================================================
# Customer API (FastAPI)
customer.api.host=172.31.37.130
customer.api.port=8000

# Analytics API (Flask)
analytics.api.host=172.31.40.1
analytics.api.port=5000

# Reports API (Flask)
reports.api.host=172.31.35.118
reports.api.port=3000

# =============================================================================
# Thread Group Configuration
# =============================================================================
# Standard Load Test Thread Group
threads.small=10
threads.medium=50
threads.large=100
test.rampup=30
test.duration=300

# Connection Storm Thread Group
storm.threads=200
storm.rampup=5
storm.duration=60

# =============================================================================
# Connection and Request Settings
# =============================================================================
http.connection.timeout=5000
http.response.timeout=30000
http.socket.timeout=30000
http.keep.alive=true
http.max.connections=500
http.retries=1

# =============================================================================
# Distributed Testing Configuration
# =============================================================================
# Remote hosts (comma-separated list for -R parameter)
remote_hosts=172.31.47.183,172.31.35.199

# Client-server mode settings
client.rmi.localport=7000
server.rmi.localport=7001
server.rmi.ssl.disable=true
# =============================================================================
# JMeter Performance Tuning
# =============================================================================
jmeter.save.saveservice.timestamp_format=yyyy/MM/dd HH:mm:ss.SSS
jmeter.save.saveservice.output_format=xml
jmeter.save.saveservice.assertion_results_failure_message=true
jmeter.save.saveservice.thread_counts=true
jmeter.save.saveservice.thread_name=true
jmeter.save.saveservice.time=true
jmeter.save.saveservice.latency=true
jmeter.save.saveservice.connect_time=true
jmeter.save.saveservice.bytes=true
jmeter.save.saveservice.sent_bytes=true
jmeter.save.saveservice.label=true
jmeter.save.saveservice.response_code=true
jmeter.save.saveservice.response_message=true
jmeter.save.saveservice.successful=true
jmeter.save.saveservice.url=true
jmeter.save.saveservice.idle_time=true

# =============================================================================
# TLS/SSL Configuration
# =============================================================================
https.use.cached.ssl.context=false
https.socket.protocols=TLSv1.2,TLSv1.3
https.default.protocol=TLSv1.2
https.keystore.file=keystore.jks
https.keystore.password=changeit
https.certname=
https.keystore.type=JKS

# =============================================================================
# MongoDB Connection Parameters
# =============================================================================
# These are passed to the microservices via HTTP requests
# and don't directly connect to MongoDB from JMeter
mongodb.max_pool_size=100
mongodb.min_pool_size=10
mongodb.max_idle_time_ms=30000
mongodb.write_concern=majority

# =============================================================================
# Test Data Configuration
# =============================================================================
# Customer data generation parameters
customer.data.min_credit_score=300
customer.data.max_credit_score=850
customer.data.min_annual_income=20000
customer.data.max_annual_income=150000

# =============================================================================
# Results and Reporting
# =============================================================================
# Output files
results.jtl.file=results_10gb_test.jtl
results.csv.file=results_10gb_test.csv
results.graph.file=results_10gb_test_graph.png
results.summary.file=results_10gb_test_summary.txt

# =============================================================================
# JVM Settings (for jmeter.bat/.sh)
# =============================================================================
# HEAP=-Xms1g -Xmx4g
# NEW=-XX:NewSize=512m -XX:MaxNewSize=1g
# SURVIVOR=-XX:SurvivorRatio=8 -XX:TargetSurvivorRatio=50
# GC_ALGO=-XX:+UseG1GC -XX:MaxGCPauseMillis=100 -XX:G1ReservePercent=20
